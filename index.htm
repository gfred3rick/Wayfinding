<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
    	<meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="">
        <meta name="author" content="">
        <title>Routes 611 & 263 Wayfinding </title>

        <!-- Core CSS -->
        <link href="http://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css" rel="stylesheet" type="text/css">
        <link href="http://netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.min.css" rel="stylesheet" type="text/css">
        <link href="css/typeahead.js-bootstrap.css" rel="stylesheet" type="text/css"> <!--https://github.com/jharding/typeahead.js-bootstrap.css-->
        <link rel="stylesheet" type="text/css" href="css/styleNew.css">
        <!--[if lte IE 8]>
            <link href="http://cdn.leafletjs.com/leaflet-0.6.4/leaflet.ie.css" rel="stylesheet" type="text/css">
            <link href="http://netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome-ie7.min.css" rel="stylesheet">
        <![endif]-->
    </head>

    <body>
        
        <div class="navbar navbar-inverse navbar-fixed-top">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <span>
                    <a href="http://www.dvrpc.org" target="_new"> <img class="pull-left" style="margin:10px 0px 0px 15px; height:40px;" src="images/dvrpc_logo.png" /></a>
                    <img class="pull-left" src="images/signs/611banner.png" style="margin: 10px 0px 0px 20px; width:90x; height:50px;" />
                </span>
            </div><!-- /.navbar-header -->

            <div class="navbar-collapse collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a id="toolsDrop" href="#" role="button" class="dropdown-toggle" data-toggle="collapse" data-target=".navbar-collapse.in" onclick="$('#aboutModal').modal('show'); return false" style="background-color: rgb(255,0,0);"><i class="glyphicon glyphicon-info-sign" style="color: white"></i>&nbsp; &nbsp;About </a>
                    </li>

                    <li>
                        <a id="toolsDrop" href="#" role="button" class="dropdown-toggle" data-toggle="collapse" data-target=".navbar-collapse.in" onclick="$('#howTo').modal('show'); return false" style="background-color: rgb(255,0,0);"><i class="glyphicon glyphicon-question-sign" style="color: white"></i>&nbsp; &nbsp;How To </a>
                    </li>
                </ul>
            </div><!--/.navbar-collapse collapse -->
        </div><!--navbar navbar-inverse navbar-fixed-top -->

        <div class="row" id="container">
            <div class="col-sm-4 col-md-3 col-lg-3" id="sidebar" style="padding: 10px; overflow: auto;">
                <div class="panel panel-primary">
                    <div class="panel-heading">
                        <span class="small text-muted" style="color:white"><strong>Zoom To...</strong></span>
                    </div>
                    <div class="panel-heading">
                        <span class="small text-muted" style="color:white"><strong>Signs & Inventory</strong></span>
                    </div>
                    <div id="overlay-layers" class="panel-collapse collapse in">
                        <div class="panel-body" style="padding: 0px 15px;">
                            
                        </div><!--/.panel-body -->
                    </div><!--#overlay-layers-->
                </div><!--/.panel panel-primary -->
            </div><!--#sidebar -->
            <div class="col-sm-8 col-md-9 col-lg-9" id="map">
                <div id='title'></div>  
                <div id="loading" style="display: block;">
                    <div class="loading-indicator">
                        <div class="progress progress-striped active">
                            <div class="progress-bar progress-bar-info" style="width: 100%"></div>
                        </div>
                    </div>
                </div>
            </div><!-- #map -->
        </div><!--container -->

        <div class="modal fade" id="aboutModal">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                        <h4 class="modal-title">Routes 611 & 263 Wayfinding</h4>
                    </div><!-- /.modal-header -->
                    <div class="modal-body">
                        <ul id="aboutTabs" class="nav nav-tabs">
                            <li class="active"><a href="#disclaimer" data-toggle="tab"><i class="icon-exclamation-sign"></i>&nbsp;Disclaimer</a></li>
                            <li><a href="#contact" data-toggle="tab"><i class="icon-envelope"></i>&nbsp;Contact Info</a></li>
                        </ul>
                        <div id="aboutTabsContent" class="tab-content" style="padding-top: 10px;">
                            
                            <div class="tab-pane fade active in" id="disclaimer">
                                <p>This web page is a public resource of general information. The Delaware Valley Regional Commission (DVRPC) makes no warranty, representation, or guarantee as to the content, sequence, accuracy, timeliness or completeness of any of the spatial data or database information provided herein. The DVRPC, state, local and other agencies shall assume no liability for errors, omissions, or inaccuracies in the information provided regardless of how caused; or any decision made or action taken or not taken by any person relying on any information or data furnished within.</p>
                            </div>

                            <div class="tab-pane fade" id="contact">
                                <p>
                                <strong>David Anderson</strong>
                                <br>
                                Manager
                                <br>
                                Office of Transportation and Corridor Studies
                                <br>
                                Phone: 215-238-2825
                                <br>
                                <a class="email" href="mailto:danderson@dvrpc.org">danderson@dvrpc.org</a>
                                </p>
                            </div>
                        </div>
                    </div><!-- /.modal-body -->
                </div><!--/.modal-content -->
            </div><!--/.modal-dialog -->
        </div><!--#aboutModal -->

        <div class="modal fade" id="howTo">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                        <h4 class="modal-title">How To Use</h4>
                    </div><!-- /.modal-header -->
                    <div class="modal-body">
                        <p><strong>Map Navigation:</strong>
                        <br>
                        <br>
                        Click-and-drag on the map to pan, or use your mouse wheel to zoom in/out. You may also use the slider bar and arrow controls to zoom in/out of the map. Double-clicking on an area will also zoom in. If you hold down the <strong>Shift Key</strong> and drag a <span style="color: red;">box</span> on the map, it will zoom to the area drawn.
                        <br>
                        </p>
                        <p>Use the menu on the left to turn on/off selected layers. You can turn all of the layers on/off quickly by clicking on Select/Clear All.</p>
                        <p>Use the opacity slider bar to decrease/increase the transparency level of the base map layers.</p>
                    </div>
                </div><!-- /.modal-content -->
            </div><!--/.modal-dialog -->
        </div><!--#howTo -->
        

        <script src="http://code.jquery.com/jquery-1.10.2.min.js"></script>
        <script src="http://netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>
        <script src="https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=false"></script> 
        <script src="js/arcgislink.js"></script>
        
        <script>

        $(document).ready(function(){
            $('#howTo').modal();
        });

        var map;
        var url ='http://arcgis.dvrpc.org/arcgis/rest/services/AppData/Wayfinding/MapServer';
        var CUSTOM_BASEMAP = {
            name: 'Custom Map',
            alt: 'Custom Basemap'
        }

        function init() {

            var $style = [
              {
                "featureType": "landscape",
                "elementType": "geometry.fill",
                "stylers": [
                  { "color": "#9A9A9A" }
                ]
              },{
                "featureType": "poi",
                "stylers": [
                  { "color": "#808080" }
                ]
              },{
                "featureType": "road.arterial",
                "elementType": "geometry",
                "stylers": [
                  { "color": "#404040" },
                  { "weight": 0.3 },
                  { "lightness": 11 }
                ]
              },{
                "featureType": "water",
                "elementType": "geometry",
                "stylers": [
                  { "visibility": "simplified" },
                  { "weight": 0.8 },
                  { "lightness": -11 },
                  { "color": "#778ea7" }
                ]
              },{
                "featureType": "road.highway",
                "elementType": "geometry",
                "stylers": [
                  { "weight": 1 },
                  { "color": "#3d3d3d" }
                ]
              },{
                "featureType": "administrative.neighborhood",
                "stylers": [
                  { "visibility": "off" }
                ]
              },{
                "featureType": "road",
                "elementType": "labels",
                "stylers": [
                  { "invert_lightness": true },
                  { "visibility": "off" }
                ]
              },{
                "featureType": "road.local",
                "elementType": "labels.text",
                "stylers": [
                  { "visibility": "on" },
                  { "color": "#252525" },
                  { "weight": 0.5 }
                ]
              },{
                "featureType": "road.highway",
                "elementType": "labels",
                "stylers": [
                  { "visibility": "on" },
                  { "invert_lightness": true }
                ]
              }
            ];

            map = new google.maps.Map(document.getElementById('map'), {
                zoom: 12,
                center: {
                    lat: 40.1328145,
                    lng: -75.1098939
                },
                maxZoom: 17,
                minZoom: 12,
                mapTypeId: 'Custom Basemap',
                mapTypeControlOptions: {
                    mapTypeIds: ['Custom Basemap', google.maps.MapTypeId.HYBRID, google.maps.MapTypeId.ROADMAP],
                    style: google.maps.MapTypeControlStyle.DROPDOWN_MENU
                },
                streetViewControl: true
            });

            map.mapTypes.set('Custom Basemap', new google.maps.StyledMapType($style, CUSTOM_BASEMAP));

            existing = new google.maps.Data();
            existing.loadGeoJson('data/existing.js');
            existing.setMap(map);
            existing.setStyle(function(feature){
                return {
                    clickable: true,
                    visible: true,
                    icon: 'images/existing.png'
                }
            });

            dx = new google.maps.Data();
            dx.loadGeoJson('data/dx.js');
            dx.setMap(map);
            dx.setStyle(function(feature){
                return {
                    clickable: true,
                    visible: true,
                    icon: 'images/no1.png'
                }
            });

            d1 = new google.maps.Data();
            d1.loadGeoJson('data/d1.js');
            d1.setMap(map);
            d1.setStyle(function(feature){
                return {
                    clickable: true,
                    visible: true,
                    icon: 'images/no2.png'
                }
            });

            ix = new google.maps.Data();
            ix.loadGeoJson('data/ix.js');
            ix.setMap(map);
            ix.setStyle(function(feature){
                return {
                    clickable: true,
                    visible: true,
                    icon: 'images/no3.png'
                }
            });

            i2 = new google.maps.Data();
            i2.loadGeoJson('data/i2.js');
            i2.setMap(map);
            i2.setStyle(function(feature){
                return {
                    clickable: true,
                    visible: true,
                    icon: 'images/no4.png'
                }
            });


            // attractions = new google.maps.Data();
            // attractions.loadGeoJson('data/attractions.js');
            // attractions.setMap(map);
            

            shed = new google.maps.Data();
            shed.loadGeoJson('data/shed.js');
            shed.setMap(map);
            shed.setStyle(function(feature){
                return {
                    clickable: false,
                    visible: true,
                    fillColor: 'rgb(229,229,206)',
                    fillOpacity: 0.5,
                    strokeWeight: 0
                }
            });

            muni = new google.maps.Data();
            muni.loadGeoJson('data/muni.js');
            muni.setMap(map);
            muni.setStyle(function(feature){
                return {
                    clickable: false,
                    visible: true,
                    strokeColor: '#000',
                    strokeOpacity: 1,
                    fillOpacity: 0
                }
            })

        
        }

        google.maps.event.addDomListener(window, 'load', init);






        </script>







    </body>
</html>